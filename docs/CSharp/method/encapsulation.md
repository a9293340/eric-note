# 封裝的概念

## 什麼是封裝？
- **封裝**是一種將數據（稱為字段）和操作這些數據的方法（稱為方法）組合在一起的技術。
- 封裝的目的是隱藏內部實現細節，讓外部代碼只能通過方法來訪問和操作數據，而無法直接訪問數據。

## 封裝的兩個主要方面
- **數據組合**：
  - 封裝將數據成員（字段）和操作這些數據的方法放在同一個類中。
  - 例如，假設有一個類用來描述一個人的信息，這個類可以包含姓名、電子郵件和電話號碼等字段，還可以有方法來設置和獲取這些信息。

- **隱藏實現細節**：
  - 封裝鼓勵使用私有字段和公共方法，這樣外部代碼只能通過公共方法來訪問私有字段。
  - 這樣可以保護數據的完整性，確保數據在被使用之前經過驗證或處理。

## 如何使用方法來操作字段
- 對於每個字段，可以創建兩種方法：
  - **設置方法（set 方法）**：用來將值賦給字段。
  - **獲取方法（get 方法）**：用來從字段中獲取值。

### 例子：產品類
假設我們有一個名為 `Product` 的類，這個類有以下字段：
- `ProductID`：產品的唯一識別碼。
- `ProductName`：產品的名稱。
- `Cost`：產品的成本。
- `Tax`：產品的稅金。
- `QuantityInStock`：庫存數量。
- `PurchaseDate`：購買日期（只讀）。

#### 設置和獲取方法的實現
- **設置產品 ID 的方法**：
  ```csharp
  public void SetProductID(int value) {
      ProductID = value; // 將傳入的值賦給 ProductID 字段
  }
  ```

- **獲取產品 ID 的方法**：
  ```csharp
  public int GetProductID() {
      return ProductID; // 返回 ProductID 字段的值
  }
  ```

- 對於其他字段（如 `ProductName`、`Cost`、`Tax` 和 `QuantityInStock`），可以使用相同的方式創建設置和獲取方法。

## 封裝的好處
- **數據完整性**：通過方法來操作字段，可以在設置值之前進行驗證，確保數據的正確性。
- **代碼可讀性**：使用方法來訪問字段使代碼更易於理解，因為方法名稱通常能夠清楚地表達其功能。
- **維護性**：如果需要更改字段的實現方式，只需修改方法的內部實現，而不需要更改外部代碼。

## 封裝的隱藏性
- 在封裝中，某些字段和方法被設置為私有，這意味著它們不能被類的外部代碼直接訪問。
- 例如，類似於一個人可能不會透露所有的想法，類中的私有字段和方法也只能通過公共方法來間接訪問。
- 這樣的設計確保了數據的安全性和完整性，因為外部代碼無法隨意修改私有字段。

### 例子：私有字段的使用
- 在 `Product` 類中，將字段設置為私有，並通過公共的 `set` 和 `get` 方法來訪問這些字段。
- 當外部代碼需要設置或獲取產品的 ID 時，必須使用 `SetProductID` 和 `GetProductID` 方法，而不是直接訪問 `ProductID` 字段。

## 在控制台應用程序中的使用
- 在控制台應用程序中，應使用設置和獲取方法來操作 `Product` 類的字段，而不是直接訪問字段。
- 例如，設置產品 ID 時，應使用 `SetProductID` 方法：
  ```csharp
  product.SetProductID(1001); // 使用方法設置產品 ID
  ```

- 獲取產品 ID 時，應使用 `GetProductID` 方法：
  ```csharp
  int id = product.GetProductID(); // 使用方法獲取產品 ID
  ```

## 總結
- 封裝是一種將數據和操作這些數據的功能組合在一起的技術，並隱藏內部實現細節。
- 使用設置和獲取方法來操作字段是良好的編程習慣，這樣可以提高代碼的可讀性和維護性。

## 私有成員的訪問
- 當一個類有一組字段和方法時，這些字段和方法可以被設置為私有，這樣外部代碼無法直接訪問它們。
- 只有公共字段和方法可以被外部代碼訪問，這樣可以保護類的內部狀態。
- 私有字段和方法可以在公共方法中被調用，這樣外部代碼可以通過公共方法間接訪問私有成員。

### 例子：私有字段的內部訪問
- 在 `Product` 類中，將所有字段設置為私有，並通過公共的 `set` 和 `get` 方法來訪問這些字段。
- 當外部代碼需要設置或獲取產品的名稱時，必須使用 `SetProductName` 和 `GetProductName` 方法，而不是直接訪問 `ProductName` 字段。

- 這樣的設計確保了數據的安全性，因為外部代碼無法隨意修改私有字段，並且可以在公共方法中添加邏輯來驗證或處理數據。

## 總結
- 封裝的強調了私有成員的隱藏性和保護性，這是良好面向對象編程的關鍵特徵。
- 通過公共方法來間接訪問私有字段和方法，能夠提高代碼的安全性和可維護性。


