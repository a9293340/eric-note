import{_ as a,c as s,o as e,ae as l}from"./chunks/framework.TiKqN8Et.js";const k=JSON.parse('{"title":"Casting","description":"","frontmatter":{},"headers":[],"relativePath":"CSharp/type-conversion/casting.md","filePath":"CSharp/type-conversion/casting.md"}'),t={name:"CSharp/type-conversion/casting.md"};function h(o,i,n,d,c,p){return e(),s("div",null,i[0]||(i[0]=[l(`<h1 id="casting" tabindex="-1">Casting <a class="header-anchor" href="#casting" aria-label="Permalink to &quot;Casting&quot;">​</a></h1><ul><li>Casting 是將一個值從一種類型轉換為另一種類型的過程。</li><li>隱式轉換：用於將值從數值類型轉換為更高的數值類型。例如，<code>int</code> 到 <code>long</code>。</li><li>顯式轉換：用於將值從較高的數值類型轉換為較低的數值類型。例如，您可以將一個值從 <code>long</code> 轉換為 <code>int</code>，或者從 <code>double</code> 轉換為 <code>short</code>。</li></ul><h2 id="隱式強制轉換" tabindex="-1">隱式強制轉換 <a class="header-anchor" href="#隱式強制轉換" aria-label="Permalink to &quot;隱式強制轉換&quot;">​</a></h2><h3 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h3><p>隱式強制轉換是 C# 中類型轉換的一種方式，允許將值從較低的數值類型轉換為較高的數值類型。</p><h3 id="定義" tabindex="-1">定義 <a class="header-anchor" href="#定義" aria-label="Permalink to &quot;定義&quot;">​</a></h3><ul><li><strong>較低類型 (Lower Type)</strong>：需要較少字節數的類型。</li><li><strong>較高類型 (Higher Type)</strong>：需要更多字節數的類型。</li></ul><h3 id="例子" tabindex="-1">例子 <a class="header-anchor" href="#例子" aria-label="Permalink to &quot;例子&quot;">​</a></h3><ul><li><p>在 <code>sbyte</code> 和 <code>byte</code> 中：</p><ul><li><code>sbyte</code> 需要 1 字節，<code>short</code> 需要 2 字節。</li><li>因此，<code>sbyte</code> 是較低類型，<code>short</code> 是較高類型。</li></ul></li><li><p>在 <code>short</code> 和 <code>int</code> 中：</p><ul><li><code>short</code> 需要 2 字節，<code>int</code> 需要 4 字節。</li><li>因此，<code>short</code> 是較低類型，<code>int</code> 是較高類型。</li></ul></li></ul><h3 id="隱式轉換的規則" tabindex="-1">隱式轉換的規則 <a class="header-anchor" href="#隱式轉換的規則" aria-label="Permalink to &quot;隱式轉換的規則&quot;">​</a></h3><p>根據隱式類型轉換的規範，您可以將任何值從 <code>sbyte</code> 轉換為以下類型：</p><ul><li><code>short</code></li><li><code>int</code></li><li><code>long</code></li><li><code>float</code></li><li><code>double</code></li><li><code>decimal</code></li></ul><p>隱式強制轉換不需要任何特殊語法，語言編譯器會自動處理。</p><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><p>假設有一個 <code>sbyte</code> 類型的變數 <code>a</code>，值為 10，還有一個 <code>int</code> 類型的變數 <code>b</code>：</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">sbyte</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 隱式轉換</span></span></code></pre></div><p>在這種情況下，<code>a</code> 的值為 10，<code>b</code> 的值也是 10。</p><h3 id="其他類型的隱式轉換" tabindex="-1">其他類型的隱式轉換 <a class="header-anchor" href="#其他類型的隱式轉換" aria-label="Permalink to &quot;其他類型的隱式轉換&quot;">​</a></h3><ul><li>目標類型不僅可以是 <code>int</code>，還可以是 <code>short</code>、<code>long</code>、<code>float</code>、<code>double</code> 或 <code>decimal</code>。</li><li>例如，將 <code>sbyte</code> 隱式轉換為 <code>double</code>。</li></ul><h3 id="錯誤情況" tabindex="-1">錯誤情況 <a class="header-anchor" href="#錯誤情況" aria-label="Permalink to &quot;錯誤情況&quot;">​</a></h3><p>如果使用無效的數據類型，例如 <code>uint</code>，將會出現編譯時錯誤，提示“不能隱式轉換類型 &#39;sbyte&#39; 到 &#39;uint&#39;”。</p><h3 id="注意事項" tabindex="-1">注意事項 <a class="header-anchor" href="#注意事項" aria-label="Permalink to &quot;注意事項&quot;">​</a></h3><ul><li><code>double</code>、<code>decimal</code>、<code>bool</code> 和 <code>string</code> 不能隱式轉換為其他類型。</li><li><code>char</code> 值可以轉換為 <code>ushort</code>、<code>int</code> 和其他數值類型，並將使用字符的 ASCII 值進行轉換。</li></ul><h3 id="示例-char-轉換" tabindex="-1">示例：<code>char</code> 轉換 <a class="header-anchor" href="#示例-char-轉換" aria-label="Permalink to &quot;示例：\`char\` 轉換&quot;">​</a></h3><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> c</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;a&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> asciiValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 隱式轉換，asciiValue 將存儲 97</span></span></code></pre></div><p>這些都是隱式類型轉換的可能情況。</p><h2 id="顯式強制轉換" tabindex="-1">顯式強制轉換 <a class="header-anchor" href="#顯式強制轉換" aria-label="Permalink to &quot;顯式強制轉換&quot;">​</a></h2><h3 id="概述-1" tabindex="-1">概述 <a class="header-anchor" href="#概述-1" aria-label="Permalink to &quot;概述&quot;">​</a></h3><p>顯式強制轉換是第二種類型的“類型轉換”。每當我們在括號 <code>()</code> 中的源值左側指定目標數據類型時，我們稱之為顯式轉換。這意味著您希望將源值轉換為特定的目標數據類型。</p><h3 id="顯式轉換的過程" tabindex="-1">顯式轉換的過程 <a class="header-anchor" href="#顯式轉換的過程" aria-label="Permalink to &quot;顯式轉換的過程&quot;">​</a></h3><ul><li>手動將源值轉換為目標類型的過程。</li><li>例如，將值 100 轉換為 <code>double</code> 類型：<div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">double</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></li></ul><h3 id="注意事項-1" tabindex="-1">注意事項 <a class="header-anchor" href="#注意事項-1" aria-label="Permalink to &quot;注意事項&quot;">​</a></h3><ul><li>顯式轉換有時可能導致“松散的轉換”，即如果目標數據類型不足以存儲轉換後的值，該值可能會丟失，並且結果值可能與原始源值略有不同。</li><li>例如，將值 200 轉換為 <code>sbyte</code> 時，由於 <code>sbyte</code> 的範圍限制，可能會導致值丟失。</li></ul><h3 id="使用顯式轉換的情況" tabindex="-1">使用顯式轉換的情況 <a class="header-anchor" href="#使用顯式轉換的情況" aria-label="Permalink to &quot;使用顯式轉換的情況&quot;">​</a></h3><ol><li><p><strong>在所有隱式轉換的情況下</strong>：</p><ul><li>您可以選擇使用顯式轉換或隱式轉換。</li><li>例如，將 <code>int</code> 轉換為 <code>float</code>：<div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> a</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)a; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 顯式轉換</span></span></code></pre></div></li></ul></li><li><p><strong>在顯式轉換表中的情況下</strong>：</p><ul><li>這些情況下只能使用顯式轉換，無法使用隱式轉換。</li><li>例如，將 <code>sbyte</code> 轉換為 <code>byte</code>、<code>ushort</code>、<code>uint</code>、<code>ulong</code> 等。</li></ul></li><li><p><strong>從子類轉換為父類</strong>：</p><ul><li>在繼承中，您可以將子類的實例顯式轉換為父類的類型。</li></ul></li></ol><h3 id="示例-有損轉換" tabindex="-1">示例：有損轉換 <a class="header-anchor" href="#示例-有損轉換" aria-label="Permalink to &quot;示例：有損轉換&quot;">​</a></h3><ul><li>當值為 500 時，由於超出 <code>sbyte</code> 的範圍，轉換後的值可能會是近似值，例如 244。<div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">sbyte</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">sbyte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)value; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 有損轉換，b 的值為 244</span></span></code></pre></div></li></ul><h3 id="結論" tabindex="-1">結論 <a class="header-anchor" href="#結論" aria-label="Permalink to &quot;結論&quot;">​</a></h3><p>顯式強制轉換的特性要求開發者在進行轉換時，必須檢查目標類型是否足夠大，以存儲源值。這是顯式類型轉換的基本概念。</p>`,39)]))}const g=a(t,[["render",h]]);export{k as __pageData,g as default};
